# Typography Audit Report - v0.7

**Date**: 2025-10-24
**Status**: Critical Issues Found

---

## Current State

### Documentation vs Implementation Mismatch

**DESIGN_SYSTEM.md** (incomplete):
```
xs: 12px → sm: 14px → base: 16px → lg: 18px → xl: 20px
2xl: 24px → 3xl: 30px → 4xl: 36px → 5xl: 48px
```

**typography.ts** (actual implementation):
```
xs: 12px → sm: 14px → base: 16px → lg: 18px → xl: 20px
2xl: 24px → 3xl: 30px → 4xl: 36px → 5xl: 48px → 6xl: 60px
7xl: 72px → 8xl: 96px → 9xl: 128px
```

**Matches standard Tailwind v4 scale** ✓

---

## Issues Found

### 1. Off-Ramp Sizes (Not in Defined Scale)

| Size | Occurrences | Files | Recommended Fix |
|------|-------------|-------|-----------------|
| **10px** | 1 | Sidebar.css | Replace with `text-xs` (12px) |
| **13px** | 4+ | Badge, Table, Dashboard cards | **Add to ramp** or use `text-sm` (14px) |
| **15px** | 2 | LoginCard | Use `text-base` (16px) |
| **17px** | 1 | Input.css | Use `text-base` (16px) or `text-lg` (18px) |
| **28px** | 1 | CompositeScoreCard | **Use `text-[1.75rem]`** or add token |
| **32px** | 1 | Card.css (metric values) | **Add `--text-metric: 2rem`** |
| **38px** | 1 | LoginCard | **Use `text-4xl` (36px)** or add custom |
| **132px** | 1 | CompositeScoreCard | **Add `--text-grade-overlay: 8.25rem`** |
| **332px** | 1 | CompositeScoreCard | **Add `--text-grade-bg-sm: 20.75rem`** |
| **450px** | 1 | CompositeScoreCard | **Add `--text-grade-bg-lg: 28.125rem`** |

### 2. Inline Styles (Should Use Utilities)

**LoginCard.tsx:**
```tsx
// ❌ BAD
<h1 style={{ fontSize: '38px' }}>
<span style={{ fontSize: '15px' }}>

// ✅ GOOD
<h1 className="text-4xl">
<span className="text-base">
```

### 3. Hardcoded CSS Values (Should Use Tokens)

**Badge.css:**
```css
/* ❌ BAD */
font-size: 0.8125rem;

/* ✅ GOOD */
font-size: var(--text-sm); /* or add --text-badge-md: 0.8125rem */
```

---

## Proposed Type Ramp

### Standard Scale (Keep As-Is)
```
xs: 12px → sm: 14px → base: 16px → lg: 18px → xl: 20px
2xl: 24px → 3xl: 30px → 4xl: 36px → 5xl: 48px
6xl: 60px → 7xl: 72px → 8xl: 96px → 9xl: 128px
```

### Dashboard-Specific Tokens (Add to @theme)

```css
@theme {
  /* Metric cards */
  --text-metric-label: 1.25rem;        /* 20px - already have as 'xl' */
  --text-metric-value: 2rem;           /* 32px - MISSING */
  --text-metric-value--line-height: 2.5rem;
  --text-metric-value--font-weight: 700;

  /* Score grade display */
  --text-grade: 6rem;                  /* 96px - already have as '8xl' */
  --text-grade-overlay: 8.25rem;       /* 132px */
  --text-grade-bg-sm: 20.75rem;        /* 332px */
  --text-grade-bg-lg: 28.125rem;       /* 450px */

  /* Optional: Subtle sizes if really needed */
  --text-2xs: 0.625rem;                /* 10px - for micro labels */
  --text-badge-md: 0.8125rem;          /* 13px - for badges */
}
```

---

## Action Items

### Priority 1 (Breaking/Wrong)
- [ ] Update DESIGN_SYSTEM.md to include 6xl–9xl
- [ ] Remove inline `fontSize` styles from LoginCard.tsx
- [ ] Remove arbitrary `text-[Npx]` from dashboard components

### Priority 2 (Consistency)
- [ ] Add `--text-metric-value: 2rem` to @theme (most needed)
- [ ] Add `--text-grade-*` tokens for CompositeScoreCard
- [ ] Replace hardcoded `font-size:` in CSS with `var(--text-*)`

### Priority 3 (Polish)
- [ ] Decide: Keep 13px badge size or round to 14px (sm)?
- [ ] Decide: Keep 10px sidebar text or bump to 12px (xs)?
- [ ] Add semantic presets to typography.ts for dashboard components

---

## Files Requiring Updates

### Documentation
- `DESIGN_SYSTEM.md` - Add missing 6xl–9xl

### Source of Truth
- `src/index.css` @theme - Add dashboard-specific tokens

### Components (remove hardcoded sizes)
- `src/components/login/LoginCard.tsx` (3 inline styles)
- `src/components/dashboard/CompositeScoreCard.tsx` (4 arbitrary values)
- `src/components/dashboard/BackgroundCheckCard.tsx` (1 arbitrary value)
- `src/components/dashboard/StatusCard.tsx` (1 arbitrary value)
- `src/components/badge/Badge.css` (0.8125rem)
- `src/components/input/Input.css` (1.0625rem)
- `src/components/sidebar/Sidebar.css` (0.625rem)

---

## Recommendation Summary

**Minimal approach (recommended):**
1. Update DESIGN_SYSTEM.md to document full xs–9xl scale
2. Add `--text-metric-value: 2rem` to @theme
3. Replace LoginCard inline styles with `text-4xl` and `text-base`
4. Keep arbitrary values in CompositeScoreCard FOR NOW (they're decorative)
5. Round 13px → 14px (sm), 10px → 12px (xs), 17px → 16px (base)

**Complete approach (if time permits):**
All of the above, plus:
- Add full dashboard semantic tokens to @theme
- Replace all CSS hardcoded sizes with var(--text-*)
- Document usage patterns in DESIGN_SYSTEM.md
